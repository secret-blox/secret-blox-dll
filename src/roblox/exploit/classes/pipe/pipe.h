#pragma once
#include <Windows.h>

#include <string>
#include <thread>
#include <functional>
#include <map>

namespace module {
	class namePipe {
	public:
		HANDLE pipeHandle;
		std::string pipeName;
		std::function<void(std::string)> callback = [](std::string ex) -> void { return; };

		static auto createPipe(std::string pipeName) -> namePipe*;
		explicit namePipe(std::string pipeName);

		auto write(std::string data) -> DWORD;
	};
}